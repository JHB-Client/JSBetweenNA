<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        body {
            background-color: aqua;
            text-align: center;
        }
        button {
            width: 250px;
            height: 35px;
            font-size: 15px;
            margin-top: 20px;
        }

        #oc2js_label {
         margin-bottom: 20px;
         font-size: 20px;
         color: blueviolet;
        }
    </style>
</head>
<body>
    <h1>JS传递到NA</hi>
    <button onclick="postNoParamAction()">传无参</button>
    <button onclick="postHaveParamAction('zhangsan', '15')">传有参</button>
    <button onclick="postAlertAction()">传Alert</button>
    <button onclick="postStringAction('我是JS的postString传递来的字符串')">传Stirng</button>
    <button onclick="postArrayAction([12,5,8])">传Array</button>
    <button onclick="postDictionaryAction({name:'zhaowu',gender:'male'})">传Dictionary</button><br>
    <label id="oc2js_label">NA调用JS的反馈</label>

    <script>
        function postNoParamAction() {
            window.webkit.messageHandlers.noParamsFunction.postMessage(null);
        }

        function postHaveParamAction(x,y) {
            window.webkit.messageHandlers.haveParamsFunction.postMessage({name:x,age:y});
        }

        function postAlertAction() {
            window.webkit.messageHandlers.showAlert.postMessage(null);
        }

        function postStringAction(str) {
            window.webkit.messageHandlers.postString.postMessage(str);
        }

        function postArrayAction(arr) {
            window.webkit.messageHandlers.postArray.postMessage(arr);
        }

        function postDictionaryAction(dict) {
            window.webkit.messageHandlers.postDictionary.postMessage(dict);
        }
    
    
    
    function alertWithStr(str) {
        setTimeout(() => {
            alert(str);
        }, 1);
        document.getElementById("oc2js_label").innerText = str;
    }
    </script>
    
</body>
</html>
